# –¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –æ—Å–Ω–æ–≤–∏ NoSQL —Å–∏—Å—Ç–µ–º

## –ü–ª–∞–Ω –ª–µ–∫—Ü—ñ—ó

1. –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ–ª—è—Ü—ñ–π–Ω–æ—ó –º–æ–¥–µ–ª—ñ
2. –¢–µ–æ—Ä–µ–º–∞ CAP
3. BASE —Å–µ–º–∞–Ω—Ç–∏–∫–∞
4. –¢–∞–∫—Å–æ–Ω–æ–º—ñ—è NoSQL —Å–∏—Å—Ç–µ–º
5. Polyglot Persistence

## **üìö –ö–ª—é—á–æ–≤—ñ –ø–æ–Ω—è—Ç—Ç—è:**

**NoSQL** ‚Äî –∫–ª–∞—Å —Å–∏—Å—Ç–µ–º —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö, —è–∫—ñ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –≤—ñ–¥ —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏—Ö —Ä–µ–ª—è—Ü—ñ–π–Ω–∏—Ö –°–£–ë–î –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—é —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ—ó —Å—Ö–µ–º–∏, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ—é –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—é —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏.

**CAP —Ç–µ–æ—Ä–µ–º–∞** ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º, —â–æ —Å—Ç–≤–µ—Ä–¥–∂—É—î –Ω–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Ç–∞ —Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –¥–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –º–µ—Ä–µ–∂—ñ.

**–ï–≤–µ–Ω—Ç—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** ‚Äî –º–æ–¥–µ–ª—å, –∑–∞ —è–∫–æ—ó —Å–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç—É—î –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —É–∑–≥–æ–¥–∂–µ–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –≤—Å—ñ—Ö —Ä–µ–ø–ª—ñ–∫ —á–µ—Ä–µ–∑ –ø–µ–≤–Ω–∏–π —á–∞—Å –ø—ñ—Å–ª—è –ø—Ä–∏–ø–∏–Ω–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å.

**Polyglot Persistence** ‚Äî –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥, —â–æ –ø–µ—Ä–µ–¥–±–∞—á–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤ –æ–¥–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∏ –∑–∞–¥–∞—á.

## **1. –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ–ª—è—Ü—ñ–π–Ω–æ—ó –º–æ–¥–µ–ª—ñ**

## –Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

### üìÖ **–†–µ–ª—è—Ü—ñ–π–Ω–∞ –º–æ–¥–µ–ª—å —Ç–∞ —Å—É—á–∞—Å–Ω—ñ—Å—Ç—å**

**1970 —Ä—ñ–∫ ‚Äî –ï–¥–≥–∞—Ä –ö–æ–¥–¥:**
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
- –ù–µ–≤–µ–ª–∏–∫—ñ –æ–±—Å—è–≥–∏ –¥–∞–Ω–∏—Ö
- –ü–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

**2000-—ñ —Ä–æ–∫–∏ ‚Äî –í–∏–∫–ª–∏–∫–∏ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É:**
- –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ —Å–∏—Å—Ç–µ–º–∏
- –ü–µ—Ç–∞–±–∞–π—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
- –î–∏–Ω–∞–º—ñ—á–Ω—ñ —Å—Ö–µ–º–∏ –¥–∞–Ω–∏—Ö
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

```mermaid
timeline
    title –ï–≤–æ–ª—é—Ü—ñ—è –≤–∏–º–æ–≥ –¥–æ –±–∞–∑ –¥–∞–Ω–∏—Ö
    1970 : –†–µ–ª—è—Ü—ñ–π–Ω–∞ –º–æ–¥–µ–ª—å –ö–æ–¥–¥–∞
         : –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è, ACID
    1990 : –ü–µ—Ä—à—ñ –≤–µ–±–¥–æ–¥–∞—Ç–∫–∏
         : –ó—Ä–æ—Å—Ç–∞–Ω–Ω—è –æ–±—Å—è–≥—ñ–≤
    2000 : –°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ
         : –ì–ª–æ–±–∞–ª—å–Ω–∏–π –º–∞—Å—à—Ç–∞–±
    2010 : Big Data —Ç–∞ NoSQL
         : –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ —Å–∏—Å—Ç–µ–º–∏
    2020 : Polyglot Persistence
         : –ì—ñ–±—Ä–∏–¥–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
```

## –ü—Ä–æ–±–ª–µ–º–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### üìà **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ vs –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ**

**–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è (—Ä–µ–ª—è—Ü—ñ–π–Ω—ñ –°–£–ë–î):**
```mermaid
graph TB
    A[1 –ø–æ—Ç—É–∂–Ω–∏–π —Å–µ—Ä–≤–µ—Ä] --> B[+RAM]
    A --> C[+CPU]
    A --> D[+–î–∏—Å–∫]

    B --> E[‚ùå –§—ñ–∑–∏—á–Ω—ñ –º–µ–∂—ñ]
    C --> E
    D --> E
    E --> F[üí∞ –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å]
```

**–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è (NoSQL):**
```mermaid
graph LR
    A[–î–∞–Ω—ñ] --> B[–°–µ—Ä–≤–µ—Ä 1]
    A --> C[–°–µ—Ä–≤–µ—Ä 2]
    A --> D[–°–µ—Ä–≤–µ—Ä 3]
    A --> E[–°–µ—Ä–≤–µ—Ä N]

    B --> F[‚úÖ –õ—ñ–Ω—ñ–π–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å]
    C --> F
    D --> F
    E --> F
```

## –ñ–æ—Ä—Å—Ç–∫—ñ—Å—Ç—å —Å—Ö–µ–º–∏

### üîí **–ü—Ä–æ–±–ª–µ–º–∏ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏**

```sql
-- –ü–æ—á–∞—Ç–∫–æ–≤–∞ —Å—Ö–µ–º–∞
CREATE TABLE users (
    user_id INT PRIMARY KEY,
    username VARCHAR(50),
    email VARCHAR(100)
);

-- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ –ø–æ–ª—è
ALTER TABLE users ADD COLUMN phone VARCHAR(20);
ALTER TABLE users ADD COLUMN preferences JSON;

-- ‚è∞ –ú—ñ–≥—Ä–∞—Ü—ñ—è 100–ú –∑–∞–ø–∏—Å—ñ–≤ = –≥–æ–¥–∏–Ω–∏ –ø—Ä–æ—Å—Ç–æ—é
```

**vs NoSQL –≥–Ω—É—á–∫—ñ—Å—Ç—å:**

```javascript
// ‚úÖ –†—ñ–∑–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ —Ä—ñ–∑–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
db.users.insertOne({
    username: "ivan",
    email: "ivan@example.com"
});

db.users.insertOne({
    username: "maria",
    email: "maria@example.com",
    phone: "+380501234567",  // –ù–æ–≤e –ø–æ–ª–µ
    preferences: { theme: "dark" }  // –ù–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
});
```

## Impedance Mismatch

### üîÑ **–û–±'—î–∫—Ç–Ω–∞ –º–æ–¥–µ–ª—å vs –†–µ–ª—è—Ü—ñ–π–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ**

**–û–±'—î–∫—Ç –≤ –¥–æ–¥–∞—Ç–∫—É:**
```javascript
const user = {
    id: "user123",
    name: "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    addresses: [
        { type: "home", city: "–ö–∏—ó–≤" },
        { type: "work", city: "–ö–∏—ó–≤" }
    ],
    preferences: {
        language: "uk",
        notifications: { email: true, sms: false }
    }
};
```

**–†–µ–ª—è—Ü—ñ–π–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è:**
```
users ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ addresses
        ‚îú‚îÄ‚îÄ preferences
        ‚îî‚îÄ‚îÄ notification_settings

‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–æ 4 —Ç–∞–±–ª–∏—Ü—ñ + JOIN –æ–ø–µ—Ä–∞—Ü—ñ—ó
```

## –í–µ–ª–∏–∫—ñ –æ–±—Å—è–≥–∏ –¥–∞–Ω–∏—Ö

### üìä **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Big Data**

```mermaid
mindmap
  root((BIG DATA))
    –û–ë–°–Ø–ì
      –ü–µ—Ç–∞–±–∞–π—Ç–∏
      –ï–∫—Å–∞–±–∞–π—Ç–∏
    –®–í–ò–î–ö–Ü–°–¢–¨
      –ü–æ—Ç–æ–∫–æ–≤—ñ –¥–∞–Ω—ñ
      –†–µ–∞–ª—å–Ω–∏–π —á–∞—Å
    –†–Ü–ó–ù–û–ú–ê–ù–Ü–¢–ù–Ü–°–¢–¨
      –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ
      –ù–∞–ø—ñ–≤—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ
      –ù–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ
    –î–û–°–¢–û–í–Ü–†–ù–Ü–°–¢–¨
      –ù–µ–ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ
      –ù–µ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ
```

**–ü—Ä–æ–±–ª–µ–º–∏ —Ä–µ–ª—è—Ü—ñ–π–Ω–∏—Ö –°–£–ë–î:**
- üêå –ü–æ–≤—ñ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ JOIN –Ω–∞ –≤–µ–ª–∏–∫–∏—Ö –æ–±—Å—è–≥–∞—Ö
- üíæ –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –ø–∞—Ä—Ç—ñ—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
- üîÑ –ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—è
- üìà –ü–æ–≥–∞–Ω–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏

## **2. –¢–µ–æ—Ä–µ–º–∞ CAP**

## –§–æ—Ä–º—É–ª—é–≤–∞–Ω–Ω—è —Ç–µ–æ—Ä–µ–º–∏ CAP

### üéØ **–ï—Ä—ñ–∫ –ë—Ä—é–µ—Ä, 2000 —Ä—ñ–∫**

> **–†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ —Ç—Ä–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:**

```mermaid
graph TD
    A[–†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞] --> B{–í–∏–±—ñ—Ä 2 –∑ 3}

    B --> C[CA: Consistency<br/>+ Availability]
    B --> D[CP: Consistency<br/>+ Partition Tolerance]
    B --> E[AP: Availability<br/>+ Partition Tolerance]

    C --> F[üèõÔ∏è –¢—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ –†–°–£–ë–î<br/>PostgreSQL, MySQL<br/>–≤ –æ–¥–Ω–æ–º—É –î–¶]

    D --> G[üîí MongoDB<br/>HBase<br/>Redis Cluster]

    E --> H[üåê Cassandra<br/>DynamoDB<br/>CouchDB]
```

## –¢—Ä–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ CAP

### **C - Consistency (–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å)**

```mermaid
sequenceDiagram
    participant Client
    participant Node1
    participant Node2

    Client->>Node1: WRITE value=100
    Node1->>Node2: –†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è
    Node2-->>Node1: OK
    Node1-->>Client: –£—Å–ø—ñ—à–Ω–æ

    Client->>Node2: READ
    Node2-->>Client: value=100 ‚úÖ

    Note over Node1,Node2: –í—Å—ñ –≤—É–∑–ª–∏ –±–∞—á–∞—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ –¥–∞–Ω—ñ
```

**‚úÖ –ì–∞—Ä–∞–Ω—Ç—ñ—è:** –í—Å—ñ –≤—É–∑–ª–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –æ–¥–Ω–µ –π —Ç–µ —Å–∞–º–µ –∑–Ω–∞—á–µ–Ω–Ω—è

## **A - Availability (–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å)**

```mermaid
graph TB
    A[–ö–ª—ñ—î–Ω—Ç] --> B{–ó–∞–ø–∏—Ç}
    B --> C[–í—É–∑–æ–ª 1]
    B --> D[–í—É–∑–æ–ª 2]
    B --> E[–í—É–∑–æ–ª 3]

    C --> F[‚úÖ –ó–∞–≤–∂–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î]
    D --> G[‚úÖ –ù–∞–≤—ñ—Ç—å –ø—Ä–∏ –∑–±–æ—è—Ö]
    E --> H[‚úÖ –ú–æ–∂–µ –±—É—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª–µ]
```

**‚úÖ –ì–∞—Ä–∞–Ω—Ç—ñ—è:** –ö–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –æ—Ç—Ä–∏–º—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å (—É—Å–ø—ñ—Ö/–ø–æ–º–∏–ª–∫–∞)

## **P - Partition Tolerance (–°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è)**

```mermaid
graph TB
    A[–í—É–∑–æ–ª 1] -.‚ùå –ú–µ—Ä–µ–∂–∞ —Ä–æ–∑–¥—ñ–ª–µ–Ω–∞.-> B[–í—É–∑–æ–ª 2]
    A -.‚ùå.-> C[–í—É–∑–æ–ª 3]

    D[–ö–ª—ñ—î–Ω—Ç –ê] --> A
    E[–ö–ª—ñ—î–Ω—Ç –ë] --> B

    A --> F[‚úÖ –ü—Ä–æ–¥–æ–≤–∂—É—î —Ä–æ–±–æ—Ç—É]
    B --> G[‚úÖ –ü—Ä–æ–¥–æ–≤–∂—É—î —Ä–æ–±–æ—Ç—É]
    C --> H[‚úÖ –ü—Ä–æ–¥–æ–≤–∂—É—î —Ä–æ–±–æ—Ç—É]

    style A fill:#90EE90
    style B fill:#90EE90
    style C fill:#90EE90
```

**‚úÖ –ì–∞—Ä–∞–Ω—Ç—ñ—è:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –ø—Ä–∏ –º–µ—Ä–µ–∂–µ–≤–∏—Ö —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è—Ö

## –î–æ–∫–∞–∑ —Ç–µ–æ—Ä–µ–º–∏ CAP

### üî¨ **–°–µ—Ç –ì—ñ–ª–±–µ—Ä—Ç —Ç–∞ –ù–µ–Ω—Å—ñ –õ—ñ–Ω—á, 2002**

**–°–∏—Ç—É–∞—Ü—ñ—è —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –º–µ—Ä–µ–∂—ñ:**

```mermaid
sequenceDiagram
    participant ClientA
    participant Node1
    participant Node2
    participant ClientB

    ClientA->>Node1: WRITE value=100
    Node1-->>ClientA: OK

    Note over Node1,Node2: ‚ùå –ú–µ—Ä–µ–∂–∞ —Ä–æ–∑–¥—ñ–ª–µ–Ω–∞

    ClientB->>Node2: READ value

    alt –í–∏–±—ñ—Ä Consistency (CP)
        Node2-->>ClientB: ‚ùå ERROR (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å)
        Note over Node2: –í—ñ–¥–º–æ–≤–∞ –≤ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—ñ<br/>–¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ
    else –í–∏–±—ñ—Ä Availability (AP)
        Node2-->>ClientB: value=—Å—Ç–∞—Ä–µ (0)
        Note over Node2: –ü–æ–≤–µ—Ä—Ç–∞—î –∑–∞—Å—Ç–∞—Ä—ñ–ª–µ –∑–Ω–∞—á–µ–Ω–Ω—è<br/>–¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
    end
```

## CA vs CP vs AP —Å–∏—Å—Ç–µ–º–∏

### üìä **–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏**

| –¢–∏–ø | –°–∏—Å—Ç–µ–º–∏ | –í–∏–±—ñ—Ä | –ö–æ–º–ø—Ä–æ–º—ñ—Å |
|-----|---------|-------|-----------|
| **CA** | PostgreSQL, MySQL (1 –î–¶) | C+A | ‚ùå –ù–µ –≤–∏—Ç—Ä–∏–º—É—î —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è |
| **CP** | MongoDB, HBase, Redis | C+P | ‚è∏Ô∏è –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –ø—Ä–∏ –∑–±–æ—è—Ö |
| **AP** | Cassandra, DynamoDB | A+P | üîÑ –ï–≤–µ–Ω—Ç—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å |

**–ü—Ä–∏–∫–ª–∞–¥ CA (PostgreSQL):**
```sql
BEGIN TRANSACTION;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;
UPDATE accounts SET balance = balance + 100 WHERE id = 2;
COMMIT;  -- ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–æ –∞–±–æ ‚ùå –ø–æ–≤–Ω–∏–π –≤—ñ–¥–∫–∞—Ç
```

## CP —Å–∏—Å—Ç–µ–º–∏: MongoDB

### üîí **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å + –°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è**

```javascript
// Write concern "majority" - –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å
db.users.insertOne(
    { name: "–Ü–≤–∞–Ω", email: "ivan@example.com" },
    { writeConcern: { w: "majority", wtimeout: 5000 } }
);

// ‚úÖ –ó–∞–ø–∏—Å –Ω–∞ –±—ñ–ª—å—à—ñ—Å—Ç—å —Ä–µ–ø–ª—ñ–∫
// ‚ùå –ü—Ä–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—ñ - –≤—ñ–¥–º–æ–≤–∞ –≤ –∑–∞–ø–∏—Å—ñ
```

```mermaid
graph TB
    A[Primary] --> B[Secondary 1]
    A --> C[Secondary 2]

    D[–ö–ª—ñ—î–Ω—Ç] --> A
    A --> E{–†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è<br/>–Ω–∞ majority?}
    E -->|–¢–∞–∫| F[‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è]
    E -->|–ù—ñ| G[‚ùå Timeout]

    style A fill:#90EE90
    style B fill:#FFD700
    style C fill:#FFD700
```

## AP —Å–∏—Å—Ç–µ–º–∏: Cassandra

### üåê **–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å + –°—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è**

```javascript
// Consistency level ONE - –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å
client.execute(
    'INSERT INTO users (id, name) VALUES (?, ?)',
    [uuid(), '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤'],
    { consistency: consistencies.one }
);

// ‚úÖ –ó–∞–ø–∏—Å –Ω–∞ –æ–¥–∏–Ω –≤—É–∑–æ–ª
// üîÑ –ü–æ—Å—Ç—É–ø–æ–≤–∞ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—è
// üìñ –ú–æ–∂–ª–∏–≤–µ —á–∏—Ç–∞–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –¥–∞–Ω–∏—Ö
```

```mermaid
graph LR
    A[–ö–ª—ñ—î–Ω—Ç] --> B[–í—É–∑–æ–ª 1]
    A --> C[–í—É–∑–æ–ª 2]
    A --> D[–í—É–∑–æ–ª 3]

    B --> E[‚úÖ –®–≤–∏–¥–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å]
    C --> F[‚úÖ –ó–∞–≤–∂–¥–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–π]
    D --> G[üîÑ –ï–≤–µ–Ω—Ç—É–∞–ª—å–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è]

    style B fill:#90EE90
    style C fill:#90EE90
    style D fill:#90EE90
```

## PACELC —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è

### üî¨ **–î–∞–Ω—ñ–µ–ª—å –ê–±–∞–¥—ñ, 2012**

```mermaid
graph TD
    A[–†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞] --> B{P - –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è?}

    B -->|–¢–∞–∫| C{–í–∏–±—ñ—Ä}
    C --> D[A - Availability]
    C --> E[C - Consistency]

    B -->|–ù—ñ| F{E - Else}
    F --> G[L - Latency<br/>–®–≤–∏–¥–∫—ñ—Å—Ç—å]
    F --> H[C - Consistency<br/>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å]

    style D fill:#90EE90
    style E fill:#87CEEB
    style G fill:#FFD700
    style H fill:#87CEEB
```

**–ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è:** –ù–∞–≤—ñ—Ç—å –±–µ–∑ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —î –∫–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ —à–≤–∏–¥–∫—ñ—Å—Ç—é —Ç–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—é

## **3. BASE —Å–µ–º–∞–Ω—Ç–∏–∫–∞**

## ACID vs BASE

### ‚öñÔ∏è **–î–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏**

```mermaid
graph LR
    A[ACID<br/>–†–µ–ª—è—Ü—ñ–π–Ω—ñ –°–£–ë–î] --> B[Atomicity<br/>–ê—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å]
    A --> C[Consistency<br/>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å]
    A --> D[Isolation<br/>–Ü–∑–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å]
    A --> E[Durability<br/>–î–æ–≤–≥–æ–≤—ñ—á–Ω—ñ—Å—Ç—å]

    F[BASE<br/>NoSQL —Å–∏—Å—Ç–µ–º–∏] --> G[Basically Available<br/>–ë–∞–∑–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å]
    F --> H[Soft state<br/>–ú'—è–∫–∏–π —Å—Ç–∞–Ω]
    F --> I[Eventual consistency<br/>–ï–≤–µ–Ω—Ç—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å]

    style A fill:#87CEEB
    style F fill:#90EE90
```

## Basically Available

### üåê **–ë–∞–∑–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –±—ñ–ª—å—à—É —á–∞—Å—Ç–∏–Ω—É —á–∞—Å—É, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–µ–ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ

```javascript
// –ü—Ä–∏–∫–ª–∞–¥: –õ—ñ—á–∏–ª—å–Ω–∏–∫ –ª–∞–π–∫—ñ–≤ –≤ —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ–π –º–µ—Ä–µ–∂—ñ
async function getLikesCount(postId) {
    try {
        // –°–ø—Ä–æ–±–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
        const exactCount = await db.likes.count({ postId });
        return { count: exactCount, approximate: false };
    } catch (error) {
        // ‚úÖ –ü—Ä–∏ –∑–±–æ—ó - –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –∫–µ—à–æ–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
        const cached = await cache.get(`likes:${postId}`);
        return {
            count: cached || 0,
            approximate: true  // –ü–æ–∑–Ω–∞—á–∫–∞ –ø—Ä–æ –ø—Ä–∏–±–ª–∏–∑–Ω—ñ—Å—Ç—å
        };
    }
}
```

**‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∂–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î, –º–æ–∂–ª–∏–≤–æ –∑ –º–µ–Ω—à–æ—é —Ç–æ—á–Ω—ñ—Å—Ç—é

## Soft State

### üîÑ **–ú'—è–∫–∏–π —Å—Ç–∞–Ω**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –∑ —á–∞—Å–æ–º –±–µ–∑ –Ω–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

```javascript
// –ö–µ—à –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º (TTL)
class CacheWithSoftState {
    set(key, value, ttlSeconds) {
        const expiresAt = Date.now() + (ttlSeconds * 1000);
        this.data.set(key, { value, expiresAt });

        // –§–æ–Ω–æ–≤–∏–π –ø—Ä–æ—Ü–µ—Å –≤–∏–¥–∞–ª–µ–Ω–Ω—è
        setTimeout(() => {
            if (this.data.get(key)?.expiresAt <= Date.now()) {
                this.data.delete(key);  // üîÑ –°—Ç–∞–Ω –∑–º—ñ–Ω—é—î—Ç—å—Å—è
            }
        }, ttlSeconds * 1000);
    }
}
```

```mermaid
timeline
    title –ú'—è–∫–∏–π —Å—Ç–∞–Ω –∫–µ—à—É
    T0 : –ó–∞–ø–∏—Å –¥–∞–Ω–∏—Ö
       : TTL = 60 —Å–µ–∫—É–Ω–¥
    T30 : –î–∞–Ω—ñ –∞–∫—Ç—É–∞–ª—å–Ω—ñ
        : –ú–æ–∂—É—Ç—å –±—É—Ç–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω—ñ
    T60 : –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
        : –°—Ç–∞–Ω –∑–º—ñ–Ω–∏–≤—Å—è –±–µ–∑ –∑–∞–ø–∏—Ç—É
```

## Eventual Consistency

### ‚è∞ **–ï–≤–µ–Ω—Ç—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å**

**–ü—Ä–∏–Ω—Ü–∏–ø:** –Ø–∫—â–æ –æ–Ω–æ–≤–ª–µ–Ω—å –Ω–µ–º–∞—î, –≤—Å—ñ –≤—É–∑–ª–∏ –∑ —á–∞—Å–æ–º –¥–æ—Å—è–≥–Ω—É—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É

```mermaid
sequenceDiagram
    participant Client
    participant Node1
    participant Node2
    participant Node3

    Client->>Node1: WRITE value=100
    Node1-->>Client: OK (—à–≤–∏–¥–∫–æ)

    Note over Node1,Node2,Node3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—è

    Node1->>Node2: Replicate value=100
    Node1->>Node3: Replicate value=100

    Note over Node2: T+1s: value=100
    Note over Node3: T+2s: value=100

    Note over Node1,Node2,Node3: ‚úÖ –í—Å—ñ –≤—É–∑–ª–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ
```

## –ú–µ—Ö–∞–Ω—ñ–∑–º–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ

### üîß **Vector Clocks**

```javascript
// –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø—Ä–∏—á–∏–Ω–Ω–æ-–Ω–∞—Å–ª—ñ–¥–∫–æ–≤–∏—Ö –∑–≤'—è–∑–∫—ñ–≤
class VectorClock {
    constructor() {
        this.clock = {};  // {nodeId: timestamp}
    }

    increment(nodeId) {
        this.clock[nodeId] = (this.clock[nodeId] || 0) + 1;
    }

    merge(otherClock) {
        for (const [nodeId, timestamp] of Object.entries(otherClock.clock)) {
            this.clock[nodeId] = Math.max(
                this.clock[nodeId] || 0,
                timestamp
            );
        }
    }
}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```javascript
// Node 1: {node1: 1, node2: 0}
// Node 2: {node1: 0, node2: 1}
// –ü—ñ—Å–ª—è –∑–ª–∏—Ç—Ç—è: {node1: 1, node2: 1}
```

## –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤

### ‚öîÔ∏è **–°—Ç—Ä–∞—Ç–µ–≥—ñ—ó –ø—Ä–∏–º–∏—Ä–µ–Ω–Ω—è**

**1. Last Write Wins (LWW):**
```javascript
function resolveConflict(value1, value2) {
    // ‚è∞ –ü–µ—Ä–µ–º–∞–≥–∞—î –ø—ñ–∑–Ω—ñ—à–∏–π –∑–∞–ø–∏—Å
    return value1.timestamp > value2.timestamp ? value1 : value2;
}
```

**2. –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è:**
```javascript
// üìö –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤—Å—ñ –≤–µ—Ä—Å—ñ—ó
class MultiVersionStore {
    write(key, value, nodeId) {
        this.versions.push({
            value: value,
            nodeId: nodeId,
            timestamp: Date.now()
        });
    }

    read(key, resolver) {
        const versions = this.versions.get(key);
        return resolver(versions);  // –î–æ–¥–∞—Ç–æ–∫ –≤–∏—Ä—ñ—à—É—î
    }
}
```

## –ü—Ä–∏–∫–ª–∞–¥ –µ–≤–µ–Ω—Ç—É–∞–ª—å–Ω–æ—ó –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ

### üì± **–°–æ—Ü—ñ–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞: –ª—ñ—á–∏–ª—å–Ω–∏–∫ –¥—Ä—É–∑—ñ–≤**

```mermaid
graph TB
    A[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î –¥—Ä—É–≥–∞] --> B[–ó–∞–ø–∏—Å –≤ Node 1]
    B --> C[‚úÖ –ú–∏—Ç—Ç—î–≤–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è]

    B --> D[–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ —Ä–µ–ø–ª—ñ–∫–∞—Ü—ñ—è]
    D --> E[Node 2: —á–µ—Ä–µ–∑ 100–º—Å]
    D --> F[Node 3: —á–µ—Ä–µ–∑ 500–º—Å]

    G[–ß–∏—Ç–∞–Ω–Ω—è –∑ Node 2] --> H[–ú–æ–∂–ª–∏–≤–æ –∑–∞—Å—Ç–∞—Ä—ñ–ª–µ –∑–Ω–∞—á–µ–Ω–Ω—è]
    I[–ß–∏—Ç–∞–Ω–Ω—è —á–µ—Ä–µ–∑ 1—Å] --> J[‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–µ –Ω–∞ –≤—Å—ñ—Ö –≤—É–∑–ª–∞—Ö]
```

**‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:**
- –®–≤–∏–¥–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
- –°–∏—Å—Ç–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ—é
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è –∑ —á–∞—Å–æ–º

**‚ö†Ô∏è –ö–æ–º–ø—Ä–æ–º—ñ—Å:**
- –ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä—ñ–æ–¥ –Ω–µ—É–∑–≥–æ–¥–∂–µ–Ω–æ—Å—Ç—ñ
- –ü—Ä–∏–π–Ω—è—Ç–Ω–æ –¥–ª—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤, –ª–∞–π–∫—ñ–≤, –ø–µ—Ä–µ–≥–ª—è–¥ÔøΩÔøΩ–≤

## **4. –¢–∞–∫—Å–æ–Ω–æ–º—ñ—è NoSQL —Å–∏—Å—Ç–µ–º**

## –¢–∏–ø–∏ NoSQL –±–∞–∑ –¥–∞–Ω–∏—Ö

### üìä **–ß–æ—Ç–∏—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó**

```mermaid
mindmap
  root((NoSQL))
    –î–û–ö–£–ú–ï–ù–¢–û-–û–†–Ü–Ñ–ù–¢–û–í–ê–ù–Ü
      MongoDB
      CouchDB
      RavenDB
    –ö–õ–Æ–ß-–ó–ù–ê–ß–ï–ù–ù–Ø
      Redis
      Memcached
      DynamoDB
    –°–¢–û–í–ü–¶–ï–í–Ü
      Cassandra
      HBase
      ScyllaDB
    –ì–†–ê–§–û–í–Ü
      Neo4j
      Neptune
      ArangoDB
```

## –î–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω—ñ –ë–î

### üìÑ **MongoDB, CouchDB**

**–ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö:**
```javascript
{
    "_id": ObjectId("507f1f77bcf86cd799439011"),
    "title": "–í—Å—Ç—É–ø –¥–æ NoSQL",
    "author": {
        "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
        "email": "ivan@example.com"
    },
    "tags": ["nosql", "databases", "mongodb"],
    "comments": [
        {
            "user": "–ú–∞—Ä—ñ—è",
            "text": "–ß—É–¥–æ–≤–∞ —Å—Ç–∞—Ç—Ç—è!",
            "date": ISODate("2024-01-15")
        }
    ],
    "metadata": {
        "views": 1523,
        "likes": 47
    }
}
```

## –ü–µ—Ä–µ–≤–∞–≥–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

### ‚úÖ **–ß–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç–∏?**

**–ì–Ω—É—á–∫—ñ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:**
```javascript
// –†—ñ–∑–Ω—ñ —Ç–æ–≤–∞—Ä–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
db.products.insertMany([
    {
        type: "laptop",
        specs: { processor: "i7", ram: "16GB" }
    },
    {
        type: "book",
        specs: { pages: 350, isbn: "978-3-16-148410-0" }
    }
]);
// ‚úÖ –ë–µ–∑ –∑–º—ñ–Ω–∏ —Å—Ö–µ–º–∏!
```

**–ü—Ä–∏—Ä–æ–¥–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤:**
```javascript
// JS –æ–±'—î–∫—Ç ‚Üí MongoDB –¥–æ–∫—É–º–µ–Ω—Ç (1:1)
const user = { name: "–Ü–≤–∞–Ω", age: 25 };
db.users.insertOne(user);  // –ü—Ä—è–º–∏–π –∑–∞–ø–∏—Å
```

## –û–ø–µ—Ä–∞—Ü—ñ—ó –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### üîç **–ü–æ—à—É–∫ —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**

```javascript
// –°–∫–ª–∞–¥–Ω–∏–π –ø–æ—à—É–∫
db.posts.find({
    "tags": "nosql",
    "metadata.views": { $gt: 1000 },
    "author.email": { $regex: "@example.com" }
});

// –í–∫–ª–∞–¥–µ–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
db.posts.updateOne(
    { "_id": ObjectId("507f1f77bcf86cd799439011") },
    {
        $push: { comments: newComment },
        $inc: { "metadata.views": 1 }
    }
);

// –ê–≥—Ä–µ–≥–∞—Ü—ñ—è
db.posts.aggregate([
    { $match: { "tags": "nosql" } },
    { $group: { _id: "$author.name", total: { $sum: 1 } } },
    { $sort: { total: -1 } }
]);
```

## –ö–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ö–æ–≤–∏—â–∞

### üóùÔ∏è **Redis, Memcached, DynamoDB**

**–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ –º–æ–¥–µ–ª—å:**
```javascript
// –ë–∞–∑–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
await redis.set('user:1001:name', '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤');
const name = await redis.get('user:1001:name');

// –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ
await redis.hset('user:1001', {
    'name': '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤',
    'email': 'ivan@example.com',
    'age': '25'
});

// –°–ø–∏—Å–∫–∏
await redis.lpush('queue:tasks', 'task1', 'task2');

// –ú–Ω–æ–∂–∏–Ω–∏
await redis.sadd('user:1001:friends', 'user:1002', 'user:1003');
```

**‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç–∞
**‚ùå –ù–µ–¥–æ–ª—ñ–∫–∏:** –û–±–º–µ–∂–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤

## –†–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ Redis

### ‚ö° **–ù–µ —Ç—ñ–ª—å–∫–∏ –∫–µ—à**

**Time To Live:**
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 1 –≥–æ–¥–∏–Ω—É
await redis.setex('session:abc123', 3600, sessionData);
```

**–ê—Ç–æ–º–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:**
```javascript
// –õ—ñ—á–∏–ª—å–Ω–∏–∫–∏
await redis.incr('page:views:homepage');  // Atomic increment

// –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
const multi = redis.multi();
multi.decrby('account:A', 100);
multi.incrby('account:B', 100);
await multi.exec();
```

**Pub/Sub:**
```javascript
// –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª
await redis.subscribe('notifications');
// –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
await redis.publish('notifications', message);
```

## –°—Ç–æ–≤–ø—Ü–µ–≤—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### üìä **Cassandra, HBase, ScyllaDB**

**–ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö:**
```javascript
CREATE TABLE users_by_country (
    country text,           // Partition key
    user_id uuid,          // Clustering key
    name text,
    email text,
    registration_date timestamp,
    PRIMARY KEY (country, user_id)
);
```

```mermaid
graph LR
    A[–î–∞–Ω—ñ] --> B[Partition: Ukraine]
    A --> C[Partition: Poland]
    A --> D[Partition: Germany]

    B --> E[user1, user2, user3...]
    C --> F[user4, user5, user6...]
    D --> G[user7, user8, user9...]
```

**‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:** –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å, —à–≤–∏–¥–∫—ñ –∑–∞–ø–∏—Å–∏
**‚ùå –ù–µ–¥–æ–ª—ñ–∫–∏:** –û–±–º–µ–∂–µ–Ω—ñ JOIN, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤

## –ì—Ä–∞—Ñ–æ–≤—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### üï∏Ô∏è **Neo4j, Amazon Neptune**

**–ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö:**
```cypher
// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—É–∑–ª—ñ–≤ —Ç–∞ –∑–≤'—è–∑–∫—ñ–≤
CREATE (ivan:Person {name: '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤', age: 25})
CREATE (maria:Person {name: '–ú–∞—Ä—ñ—è –ö–æ–≤–∞–ª–µ–Ω–∫–æ', age: 23})
CREATE (kyiv:City {name: '–ö–∏—ó–≤'})
CREATE (company:Company {name: 'TechCorp'})

CREATE (ivan)-[:LIVES_IN]->(kyiv)
CREATE (maria)-[:LIVES_IN]->(kyiv)
CREATE (ivan)-[:WORKS_FOR {position: 'Developer'}]->(company)
CREATE (ivan)-[:FRIEND_OF {since: 2019}]->(maria)
```

```mermaid
graph LR
    A[–Ü–≤–∞–Ω] -->|FRIEND_OF| B[–ú–∞—Ä—ñ—è]
    A -->|WORKS_FOR| C[TechCorp]
    B -->|WORKS_FOR| C
    A -->|LIVES_IN| D[–ö–∏—ó–≤]
    B -->|LIVES_IN| D
```

## –ì—Ä–∞—Ñ–æ–≤—ñ –∑–∞–ø–∏—Ç–∏

### üîç **–ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å –∑–≤'—è–∑–∫—ñ–≤**

```cypher
// –î—Ä—É–∑—ñ –¥—Ä—É–∑—ñ–≤
MATCH (person:Person {name: '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤'})-[:FRIEND_OF*1..2]-(friend)
RETURN DISTINCT friend.name

// –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è –∫–æ–ª–µ–≥
MATCH (person:Person {name: '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤'})-[:LIVES_IN]->(city),
      (colleague)-[:LIVES_IN]->(city),
      (person)-[:WORKS_FOR]->(company),
      (colleague)-[:WORKS_FOR]->(company)
WHERE person <> colleague
RETURN colleague.name, city.name

// –ù–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö
MATCH path = shortestPath(
    (start:Person {name: '–Ü–≤–∞–Ω'})-[*]-(end:Person {name: '–û–ª–µ–≥'})
)
RETURN path
```

**‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:** –ü—Ä–∏—Ä–æ–¥–Ω–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–≤'—è–∑–∫—ñ–≤, —à–≤–∏–¥–∫—ñ –æ–±—Ö–æ–¥–∏
**‚ùå –ù–µ–¥–æ–ª—ñ–∫–∏:** –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

## –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

### üìã **–ö–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?**

| –¢–∏–ø | –ú–æ–¥–µ–ª—å | –°–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏ | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è |
|-----|--------|----------------|--------------|
| **üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∏** | –ì–Ω—É—á–∫—ñ JSON | –°—Ö–æ–∂—ñ—Å—Ç—å –Ω–∞ –æ–±'—î–∫—Ç–∏ | CMS, –∫–∞—Ç–∞–ª–æ–≥–∏, –ø—Ä–æ—Ñ—ñ–ª—ñ |
| **üóùÔ∏è –ö–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è** | –ü—Ä–æ—Å—Ç–∞ –ø–∞—Ä–∞ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å | –ö–µ—à, —Å–µ—Å—ñ—ó, —á–µ—Ä–≥–∏ |
| **üìä –°—Ç–æ–≤–ø—Ü–µ–≤—ñ** | –®–∏—Ä–æ–∫—ñ —Ç–∞–±–ª–∏—Ü—ñ | –ú–∞—Å—à—Ç–∞–± –∑–∞–ø–∏—Å—É | –õ–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏, IoT |
| **üï∏Ô∏è –ì—Ä–∞—Ñ–∏** | –í—É–∑–ª–∏+—Ä–µ–±—Ä–∞ | –°–∫–ª–∞–¥–Ω—ñ –∑–≤'—è–∑–∫–∏ | –°–æ—Ü–º–µ—Ä–µ–∂—ñ, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó |

## **5. Polyglot Persistence**

## –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è

### üéØ **–†—ñ–∑–Ω—ñ –∑–∞–¥–∞—á—ñ ‚Äî —Ä—ñ–∑–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏**

```mermaid
graph TB
    A[–í–µ–±–¥–æ–¥–∞—Ç–æ–∫] --> B[PostgreSQL<br/>üí∞ –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó]
    A --> C[MongoDB<br/>üì¶ –ö–∞—Ç–∞–ª–æ–≥]
    A --> D[Redis<br/>‚ö° –ö–µ—à]
    A --> E[Elasticsearch<br/>üîç –ü–æ—à—É–∫]
    A --> F[Neo4j<br/>üë• –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó]
    A --> G[Cassandra<br/>üìä –õ–æ–≥–∏]

    style B fill:#87CEEB
    style C fill:#90EE90
    style D fill:#FFD700
    style E fill:#FFA500
    style F fill:#DDA0DD
    style G fill:#F08080
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ö–æ–∂–Ω–∞ –ë–î –¥–ª—è —Å–≤–æ—î—ó –∑–∞–¥–∞—á—ñ, –∞ –Ω–µ –æ–¥–Ω–∞ –ë–î –¥–ª—è –≤—Å—å–æ–≥–æ

## –ü—Ä–∏–∫–ª–∞–¥: –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω

### üõí **–ì–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**

**PostgreSQL ‚Äî –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ø–ª–∞—Ç–µ–∂—ñ:**
```sql
-- ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –∫—Ä–∏—Ç–∏—á–Ω—ñ
BEGIN TRANSACTION;
    INSERT INTO orders (user_id, total) VALUES (1001, 299.99);
    UPDATE products SET stock = stock - 1 WHERE id = 501;
    INSERT INTO payments (order_id, amount) VALUES (LAST_INSERT_ID(), 299.99);
COMMIT;
```

**MongoDB ‚Äî –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤:**
```javascript
// –ì–Ω—É—á–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
db.products.insertOne({
    sku: "LAPTOP-DELL-5520",
    name: "Dell Latitude 5520",
    specs: {
        processor: "Intel Core i7",
        ram: "16GB",
        storage: "512GB SSD"
    },
    reviews: [/* –º–∞—Å–∏–≤ –≤—ñ–¥–≥—É–∫—ñ–≤ */]
});
```

## –ö–µ—à —Ç–∞ –ø–æ—à—É–∫

### **Redis ‚Äî –ö–µ—à—É–≤–∞–Ω–Ω—è:**
```javascript
// –®–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –¥–∞–Ω–∏—Ö
await redis.setex(
    'product:bestseller:1',
    3600,  // TTL: 1 –≥–æ–¥–∏–Ω–∞
    JSON.stringify(productData)
);

// –ö–æ—à–∏–∫ –ø–æ–∫—É–ø—Ü—è
await redis.hset('cart:user:1001', {
    'product:501': '2',
    'product:502': '1'
});
```

### **Elasticsearch ‚Äî –ü–æ–≤–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ—à—É–∫:**
```javascript
// –°–∫–ª–∞–¥–Ω–∏–π –ø–æ—à—É–∫ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏
const results = await esClient.search({
    index: 'products',
    body: {
        query: {
            multi_match: {
                query: '–Ω–æ—É—Ç–±—É–∫ core i7',
                fields: ['name^2', 'description']
            }
        }
    }
});
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

### **Neo4j ‚Äî –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞:**
```cypher
// –°—Ö–æ–∂—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
MATCH (user:User {id: 1001})-[:PURCHASED]->(product)<-[:PURCHASED]-(similar)
RETURN similar, COUNT(product) as commonPurchases
ORDER BY commonPurchases DESC
LIMIT 10

// –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
MATCH (user:User {id: 1001})-[:PURCHASED]->(p1)<-[:PURCHASED]-(similar)
      -[:PURCHASED]->(recommendation)
WHERE NOT (user)-[:PURCHASED]->(recommendation)
RETURN recommendation, COUNT(similar) as score
ORDER BY score DESC
```

### **Cassandra ‚Äî –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π:**
```javascript
// –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏–π –∑–∞–ø–∏—Å –ø–æ–¥—ñ–π
INSERT INTO user_activity (
    user_id, activity_date, activity_time,
    activity_type, product_id
) VALUES (uuid(), '2024-01-15', now(), 'product_view', 501);
```

## –í–∏–∫–ª–∏–∫–∏ Polyglot Persistence

### ‚ö†Ô∏è **–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏?**

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó:**
- üîó –ö—ñ–ª—å–∫–∞ –∑'—î–¥–Ω–∞–Ω—å –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ë–î
- üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –º—ñ–∂ —Å–∏—Å—Ç–µ–º–∞–º–∏
- üíº –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏

**–û–ø–µ—Ä–∞—Ü—ñ–π–Ω—ñ –≤–∏–∫–ª–∏–∫–∏:**
- üõ†Ô∏è –†—ñ–∑–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
- üë®‚Äçüíª –ü–æ—Ç—Ä—ñ–±–Ω–∞ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –≤ –±–∞–≥–∞—Ç—å–æ—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è—Ö
- üíæ –°–∫–ª–∞–¥–Ω–µ —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

**–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å:**
- ‚è∞ –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
- üîÑ –ï–≤–µ–Ω—Ç—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –º—ñ–∂ —Å–∏—Å—Ç–µ–º–∞–º–∏
- üìä –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω

## –ü–∞—Ç—Ç–µ—Ä–Ω–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

### üîÑ **Event Sourcing**

```mermaid
sequenceDiagram
    participant App
    participant EventBus
    participant Postgres
    participant MongoDB
    participant Elasticsearch

    App->>EventBus: ProductCreated Event
    EventBus->>Postgres: –ó–±–µ—Ä–µ–≥—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é
    EventBus->>MongoDB: –î–æ–¥–∞—Ç–∏ –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É
    EventBus->>Elasticsearch: –Ü–Ω–¥–µ–∫—Å—É–≤–∞—Ç–∏ –¥–ª—è –ø–æ—à—É–∫—É

    Note over EventBus: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –æ–±—Ä–æ–±–∫–∞
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ù–µ–∑–∞–ª–µ–∂–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–∞–Ω—É
- ‚úÖ –ê—É–¥–∏—Ç –≤—Å—ñ—Ö –∑–º—ñ–Ω

## CQRS –ø–∞—Ç—Ç–µ—Ä–Ω

### üìñ **Command Query Responsibility Segregation**

```mermaid
graph LR
    A[–î–æ–¥–∞—Ç–æ–∫] --> B{CQRS}

    B --> C[Commands<br/>–ó–∞–ø–∏—Å]
    B --> D[Queries<br/>–ß–∏—Ç–∞–Ω–Ω—è]

    C --> E[PostgreSQL<br/>–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω–∞ –ë–î]
    D --> F[MongoDB<br/>–î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ]

    E -.–†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è.-> F

    style C fill:#FFB6C1
    style D fill:#90EE90
```

**–ü—Ä–∏–∫–ª–∞–¥:**
```javascript
// Command: –∑–∞–ø–∏—Å —É —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω—É –ë–î
class CreateOrderCommand {
    async execute(orderData) {
        const order = await postgres.orders.create(orderData);
        await eventBus.publish('OrderCreated', order);
        return order;
    }
}

// Query: —á–∏—Ç–∞–Ω–Ω—è –∑ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ—ó –ë–î
class OrderQueryService {
    async getOrderDetails(orderId) {
        return await mongodb.orders.findOne({ _id: orderId });
    }
}
```

## –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Polyglot?

### ‚úÖ **–ö—Ä–∏—Ç–µ—Ä—ñ—ó –≤–∏–±–æ—Ä—É**

**–¢–∞–∫, —è–∫—â–æ:**
- üìà –†—ñ–∑–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏ —Å–∏—Å—Ç–µ–º–∏ –º–∞—é—Ç—å —Ä—ñ–∑–Ω—ñ –≤–∏–º–æ–≥–∏
- ‚ö° –ö—Ä–∏—Ç–∏—á–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –¥–ª—è –æ–∫—Ä–µ–º–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- üåê –ì–ª–æ–±–∞–ª—å–Ω–∏–π –º–∞—Å—à—Ç–∞–± –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä–µ–≥—ñ–æ–Ω–∞–º–∏
- üí™ –ö–æ–º–∞–Ω–¥–∞ –º–∞—î –µ–∫—Å–ø–µ—Ä—Ç–∏–∑—É –≤ —Ä—ñ–∑–Ω–∏—Ö –ë–î

**–ù—ñ, —è–∫—â–æ:**
- üè¢ –ù–µ–≤–µ–ª–∏–∫–∏–π –¥–æ–¥–∞—Ç–æ–∫ –∑ –ø—Ä–æ—Å—Ç–∏–º–∏ –≤–∏–º–æ–≥–∞–º–∏
- üë®‚Äçüíª –ú–∞–ª–∞ –∫–æ–º–∞–Ω–¥–∞ –±–µ–∑ –¥–æ—Å–≤—ñ–¥—É
- üí∞ –û–±–º–µ–∂–µ–Ω–∏–π –±—é–¥–∂–µ—Ç –Ω–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚è∞ –®–≤–∏–¥–∫–∏–π time-to-market –≤–∞–∂–ª–∏–≤—ñ—à–∏–π

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### üí° **Best Practices**

```mermaid
mindmap
  root((Polyglot<br/>Persistence))
    –ü–û–ß–ê–¢–û–ö
      –û–¥–Ω–∞ –ë–î —Å–ø–æ—á–∞—Ç–∫—É
      –î–æ–¥–∞–≤–∞—Ç–∏ –ø–æ—Å—Ç—É–ø–æ–≤–æ
      –ë–∞–∑—É–≤–∞—Ç–∏—Å—å –Ω–∞ –º–µ—Ç—Ä–∏–∫–∞—Ö
    –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø
      Event-driven
      CQRS –¥–ª—è —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è
      API —à–ª—é–∑–∏
    –ú–û–ù–Ü–¢–û–†–ò–ù–ì
      –Ñ–¥–∏–Ω–∞ –ø–∞–Ω–µ–ª—å
      –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–µ —Ç—Ä–µ–π—Å—É–≤–∞–Ω–Ω—è
      Alerting –Ω–∞ –∞–Ω–æ–º–∞–ª—ñ—ó
    –ö–û–ú–ê–ù–î–ê
      –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
      –ù–∞–≤—á–∞–Ω–Ω—è
      –ö–æ–¥-—Ä–µ–≤'—é
```

## –í–∏—Å–Ω–æ–≤–∫–∏

### üéì **–ö–ª—é—á–æ–≤—ñ —Ç–µ–∑–∏**

**1. –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ–ª—è—Ü—ñ–π–Ω–æ—ó –º–æ–¥–µ–ª—ñ:**
- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –æ–±–º–µ–∂–µ–Ω–µ
- –ñ–æ—Ä—Å—Ç–∫—ñ—Å—Ç—å —Å—Ö–µ–º–∏ –≥–∞–ª—å–º—É—î —Ä–æ–∑–≤–∏—Ç–æ–∫
- Impedance mismatch —É—Å–∫–ª–∞–¥–Ω—é—î —Ä–æ–∑—Ä–æ–±–∫—É

**2. –¢–µ–æ—Ä–µ–º–∞ CAP:**
- –ù–µ–º–æ–∂–ª–∏–≤–æ –º–∞—Ç–∏ C+A+P –æ–¥–Ω–æ—á–∞—Å–Ω–æ
- –í–∏–±—ñ—Ä –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–∏–º–æ–≥ —Å–∏—Å—Ç–µ–º–∏
- PACELC –¥–æ–¥–∞—î –∫–æ–º–ø—Ä–æ–º—ñ—Å Latency vs Consistency

**3. BASE —Å–µ–º–∞–Ω—Ç–∏–∫–∞:**
- –î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å
- –ú'—è–∫–∏–π —Å—Ç–∞–Ω ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ —Ä–æ–±–æ—Ç–∏
- –ï–≤–µ–Ω—Ç—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –ø—Ä–∏–π–Ω—è—Ç–Ω–∞ –¥–ª—è –±–∞–≥–∞—Ç—å–æ—Ö –∑–∞–¥–∞—á

**4. –¢–∞–∫—Å–æ–Ω–æ–º—ñ—è NoSQL:**
- üìÑ **–î–æ–∫—É–º–µ–Ω—Ç–∏:** –≥–Ω—É—á–∫—ñ —Å—Ö–µ–º–∏, –ø—Ä–∏—Ä–æ–¥–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤
- üóùÔ∏è **–ö–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è:** –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç–∞
- üìä **–°—Ç–æ–≤–ø—Ü–µ–≤—ñ:** –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤, –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞
- üï∏Ô∏è **–ì—Ä–∞—Ñ–∏:** —Å–∫–ª–∞–¥–Ω—ñ –∑–≤'—è–∑–∫–∏, –º–µ—Ä–µ–∂–µ–≤–∏–π –∞–Ω–∞–ª—ñ–∑

**5. Polyglot Persistence:**
- –†—ñ–∑–Ω—ñ –∑–∞–¥–∞—á—ñ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ä—ñ–∑–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
- –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—î—é
- Event Sourcing —Ç–∞ CQRS –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
