# –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è 13. –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è NoSQL —Å—Ö–µ–º

## –ü–ª–∞–Ω –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó

1. –ü—Ä–∏–Ω—Ü–∏–ø–∏ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —É NoSQL
2. Embedded vs Referenced –ø—ñ–¥—Ö–æ–¥–∏
3. –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è —è–∫ –ø–∞—Ä–∞–¥–∏–≥–º–∞
4. –ú—ñ–≥—Ä–∞—Ü—ñ—è –∑ —Ä–µ–ª—è—Ü—ñ–π–Ω–∏—Ö —Å—Ö–µ–º
5. –ü–∞—Ç—Ç–µ—Ä–Ω–∏ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è

---

## **üí° –ù–æ–≤–∞ –ø–∞—Ä–∞–¥–∏–≥–º–∞ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è**

**–ì–æ–ª–æ–≤–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –≤—ñ–¥ —Ä–µ–ª—è—Ü—ñ–π–Ω–∏—Ö –ë–î**

### üîÑ **–ó–º—ñ–Ω–∞ –º–∏—Å–ª–µ–Ω–Ω—è:**

**–†–µ–ª—è—Ü—ñ–π–Ω—ñ –ë–î:**
- –ü—Ä–æ—î–∫—Ç—É—î–º–æ —Å—Ö–µ–º—É ‚Üí –ü–∏—à–µ–º–æ –∑–∞–ø–∏—Ç–∏
- –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è - –∑–æ–ª–æ—Ç–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç
- –£–Ω–∏–∫–∞—î–º–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- JOIN –¥–ª—è –æ–±'—î–¥–Ω–∞–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å

**NoSQL –ë–î:**
- –ê–Ω–∞–ª—ñ–∑—É—î–º–æ –∑–∞–ø–∏—Ç–∏ ‚Üí –ü—Ä–æ—î–∫—Ç—É—î–º–æ —Å—Ö–µ–º—É
- –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è - —á–∞—Å—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞
- –î—É–±–ª—é–≤–∞–Ω–Ω—è –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å JOIN

---

## –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø

```mermaid
graph LR
    A[–ê–Ω–∞–ª—ñ–∑<br/>–ø–∞—Ç–µ—Ä–Ω—ñ–≤ –¥–æ—Å—Ç—É–ø—É] --> B[–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è<br/>—á–∞—Å—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π]
    B --> C[–ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è<br/>—Å—Ç—Ä—É–∫—Ç—É—Ä–∏]
    C --> D[–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è<br/>–¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤]
    D --> E[–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è<br/>–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ]
    E --> F{–ó–∞–¥–æ–≤—ñ–ª—å–Ω–æ?}
    F -->|–ù—ñ| A
    F -->|–¢–∞–∫| G[–§—ñ–Ω–∞–ª—å–Ω–∞ —Å—Ö–µ–º–∞]
```

**–ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è:**
> –î–∞–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä—É—é—Ç—å—Å—è —Ç–∞–∫, —è–∫ –¥–æ–¥–∞—Ç–æ–∫ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î

---

## **1. –ü—Ä–∏–Ω—Ü–∏–ø–∏ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è NoSQL**

## –û—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è –Ω–∞ –∑–∞–ø–∏—Ç–∏

### üìä **–†–µ–ª—è—Ü—ñ–π–Ω–∞ –º–æ–¥–µ–ª—å:**

```sql
-- –ù–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
CREATE TABLE students (
    student_id INT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100)
);

CREATE TABLE addresses (
    address_id INT PRIMARY KEY,
    student_id INT,
    street VARCHAR(200),
    city VARCHAR(100)
);

CREATE TABLE courses (
    course_id INT PRIMARY KEY,
    course_name VARCHAR(100)
);

CREATE TABLE enrollments (
    student_id INT,
    course_id INT,
    grade VARCHAR(2)
);
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 3 JOIN –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–∞!

---

## NoSQL –º–æ–¥–µ–ª—å

### üìÑ **–î–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:**

```javascript
// –í—Å—ñ –¥–∞–Ω—ñ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –æ–¥–Ω–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ
{
    "_id": ObjectId("..."),
    "student_id": "S2024001",
    "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan@university.edu.ua",

    // –í–±—É–¥–æ–≤–∞–Ω–∞ –∞–¥—Ä–µ—Å–∞
    "address": {
        "street": "–≤—É–ª. –•—Ä–µ—â–∞—Ç–∏–∫, 15",
        "city": "–ö–∏—ó–≤",
        "postal_code": "01001"
    },

    // –í–±—É–¥–æ–≤–∞–Ω—ñ –∫—É—Ä—Å–∏
    "courses": [
        {
            "course_id": "CS301",
            "name": "–ë–∞–∑–∏ –¥–∞–Ω–∏—Ö",
            "grade": "A",
            "credits": 6
        },
        {
            "course_id": "CS302",
            "name": "–ê–ª–≥–æ—Ä–∏—Ç–º–∏",
            "grade": "B+",
            "credits": 5
        }
    ]
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:** 1 –∑–∞–ø–∏—Ç –æ—Ç—Ä–∏–º—É—î –í–°–Ü –¥–∞–Ω—ñ!

---

## –ê–Ω–∞–ª—ñ–∑ –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –¥–æ—Å—Ç—É–ø—É

### üéØ **–ú–∞—Ç—Ä–∏—Ü—è –æ–ø–µ—Ä–∞—Ü—ñ–π:**

| –û–ø–µ—Ä–∞—Ü—ñ—è | –ß–∞—Å—Ç–æ—Ç–∞ | –¢–∏–ø | –î–∞–Ω—ñ |
|----------|---------|-----|------|
| –ü—Ä–æ—Ñ—ñ–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞ + –∫—É—Ä—Å–∏ | 1000/—Ö–≤ | Read | student, courses |
| –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å—ñ–≤ | 500/—Ö–≤ | Read | courses |
| –ó–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –Ω–∞ –∫—É—Ä—Å | 100/—Ö–≤ | Write | enrollments |
| –û–Ω–æ–≤–ª–µ–Ω–Ω—è –æ—Ü—ñ–Ω–∫–∏ | 50/—Ö–≤ | Write | enrollments |
| –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—É—Ä—Å—É | 2/–¥–µ–Ω—å | Write | courses |

**–í–∏—Å–Ω–æ–≤–æ–∫:** –û–ø—Ç–∏–º—ñ–∑—É—î–º–æ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é!

---

## –ö–æ–º–ø—Ä–æ–º—ñ—Å–∏ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è

### ‚öñÔ∏è **–ö–ª—é—á–æ–≤—ñ —Ñ–∞–∫—Ç–æ—Ä–∏:**

```mermaid
graph TB
    A[–†—ñ—à–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É] --> B{–®–≤–∏–¥–∫—ñ—Å—Ç—å —á–∏—Ç–∞–Ω–Ω—è}
    A --> C{–®–≤–∏–¥–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—É}
    A --> D{–†–æ–∑–º—ñ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞}
    A --> E{–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å}
    A --> F{–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω—å}

    B --> G[–í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è ‚úì]
    C --> H[–ü–æ—Å–∏–ª–∞–Ω–Ω—è ‚úì]
    D --> I[–û–±–º–µ–∂–µ–Ω–Ω—è 16MB]
    E --> J[–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó]
    F --> K[–î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è]
```

**–ì–æ–ª–æ–≤–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è:**
- –Ø–∫ —á–∞—Å—Ç–æ —á–∏—Ç–∞—î–º–æ vs –ø–∏—à–µ–º–æ?
- –°–∫—ñ–ª—å–∫–∏ –¥–∞–Ω–∏—Ö –º–æ–∂–µ –±—É—Ç–∏?
- –ß–∏ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –¥–∞–Ω—ñ —Ä–∞–∑–æ–º?
- –ù–∞—Å–∫—ñ–ª—å–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å?

---

## **2. Embedded vs Referenced**

## –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è (Embedding)

### üì¶ **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**

**–Ü–¥–µ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**
- –î–∞–Ω—ñ –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ä–∞–∑–æ–º
- –ó–≤'—è–∑–æ–∫ "–æ–¥–∏–Ω-–¥–æ-–Ω–µ–±–∞–≥–∞—Ç—å–æ—Ö" (–¥–æ 100-200 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤)
- –î–∞–Ω—ñ —Ä—ñ–¥–∫–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ
- –ü–æ—Ç—Ä—ñ–±–Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π

```javascript
// –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ –ø–æ–∑–∏—Ü—ñ—è–º–∏ (–∑–∞–≤–∂–¥–∏ —Ä–∞–∑–æ–º)
{
    "order_id": "ORD001",
    "customer_id": "C001",
    "order_date": ISODate("2024-10-15"),

    // –í–±—É–¥–æ–≤—É—î–º–æ –ø–æ–∑–∏—Ü—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
    "items": [
        {
            "product_id": "P001",
            "product_name": "–ù–æ—É—Ç–±—É–∫ Dell XPS 15",
            "quantity": 1,
            "unit_price": 45000,
            "subtotal": 45000
        },
        {
            "product_id": "P002",
            "product_name": "–ú–∏—à–∞ Logitech",
            "quantity": 1,
            "unit_price": 2500,
            "subtotal": 2500
        }
    ],

    "total_amount": 47500
}
```

---

## –ü–µ—Ä–µ–≤–∞–≥–∏ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è

### ‚úÖ **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:**

```javascript
// –û–¥–∏–Ω –∑–∞–ø–∏—Ç –¥–ª—è –≤—Å—å–æ–≥–æ
const order = db.orders.findOne({ order_id: "ORD001" })

// –£ —Ä–µ–ª—è—Ü—ñ–π–Ω—ñ–π –ë–î –ø–æ—Ç—Ä—ñ–±–Ω–æ:
// 1. SELECT * FROM orders WHERE order_id = 'ORD001'
// 2. SELECT * FROM order_items WHERE order_id = 'ORD001'
// –ê–±–æ JOIN –∑ –º–æ–∂–ª–∏–≤–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚ö° –®–≤–∏–¥—à–µ —á–∏—Ç–∞–Ω–Ω—è (1 –∑–∞–ø–∏—Ç)
- üîí –ê—Ç–æ–º–∞—Ä–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- üíæ –õ–æ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö
- üéØ –ü—Ä–æ—Å—Ç—ñ—à–∞ –º–æ–¥–µ–ª—å

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- üìè –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É (16MB)
- üîÑ –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω—å
- üíæ –ú–æ–∂–ª–∏–≤–µ –¥—É–±–ª—é–≤–∞–Ω–Ω—è

---

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è (Referencing)

### üîó **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**

**–Ü–¥–µ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**
- –î–∞–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ
- –ó–≤'—è–∑–æ–∫ "–±–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö"
- –í–µ–ª–∏–∫—ñ –∞–±–æ –Ω–µ–æ–±–º–µ–∂–µ–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó
- –î–∞–Ω—ñ —á–∞—Å—Ç–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è

```javascript
// –ö–æ–ª–µ–∫—Ü—ñ—è users
{
    "_id": ObjectId("..."),
    "user_id": "U001",
    "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "email": "ivan@example.com",
    "created_at": ISODate("2024-01-15")
}

// –ö–æ–ª–µ–∫—Ü—ñ—è posts (–ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∞–≤—Ç–æ—Ä–∞)
{
    "_id": ObjectId("..."),
    "post_id": "P001",
    "title": "–ú—ñ–π –ø–µ—Ä—à–∏–π –ø–æ—Å—Ç",
    "author_id": "U001",  // –ü–æ—Å–∏–ª–∞–Ω–Ω—è
    "content": "...",
    "created_at": ISODate("2024-10-15")
}

// –ö–æ–ª–µ–∫—Ü—ñ—è comments (–ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–æ—Å—Ç —ñ –∞–≤—Ç–æ—Ä–∞)
{
    "_id": ObjectId("..."),
    "comment_id": "C001",
    "post_id": "P001",    // –ü–æ—Å–∏–ª–∞–Ω–Ω—è
    "author_id": "U002",  // –ü–æ—Å–∏–ª–∞–Ω–Ω—è
    "text": "–í—ñ–¥–º—ñ–Ω–Ω–∏–π –ø–æ—Å—Ç!",
    "created_at": ISODate("2024-10-16")
}
```

---

## –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏

### üîç **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è $lookup:**

```javascript
// Aggregation pipeline –¥–ª—è JOIN
db.posts.aggregate([
    { $match: { post_id: "P001" } },

    // JOIN –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
    {
        $lookup: {
            from: "users",
            localField: "author_id",
            foreignField: "user_id",
            as: "author"
        }
    },
    { $unwind: "$author" },

    // JOIN –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏
    {
        $lookup: {
            from: "comments",
            localField: "post_id",
            foreignField: "post_id",
            as: "comments"
        }
    },

    // –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
    {
        $project: {
            title: 1,
            content: 1,
            "author.name": 1,
            "author.email": 1,
            comments: 1
        }
    }
])
```

---

## –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥

### üé≠ **–ù–∞–π–∫—Ä–∞—â–µ –∑ –æ–±–æ—Ö —Å–≤—ñ—Ç—ñ–≤:**

```javascript
// –í–±—É–¥–æ–≤—É—î–º–æ –±–∞–∑–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é + –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
{
    "post_id": "P001",
    "title": "–í—Å—Ç—É–ø –¥–æ NoSQL",

    // –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∞–≤—Ç–æ—Ä–∞
    "author": {
        "user_id": "U001",
        "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
        "avatar_url": "https://example.com/avatar.jpg"
    },

    // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –ø–æ–≤–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
    "author_id": "U001",

    "content": "...",

    // –û—Å—Ç–∞–Ω–Ω—ñ 5 –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    "recent_comments": [
        {
            "comment_id": "C001",
            "author_name": "–ú–∞—Ä—ñ—è –ö.",
            "text": "–í—ñ–¥–º—ñ–Ω–Ω–∞ —Å—Ç–∞—Ç—Ç—è!",
            "created_at": ISODate("2024-10-16")
        }
    ],

    // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
    "total_comments": 47
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –®–≤–∏–¥–∫–µ —á–∏—Ç–∞–Ω–Ω—è (–æ—Å–Ω–æ–≤–Ω—ñ –¥–∞–Ω—ñ –≤ –æ–¥–Ω–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ)
- –ê–∫—Ç—É–∞–ª—å–Ω–∞ –ø–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (—á–µ—Ä–µ–∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è)
- –ö–æ–º–ø–∞–∫—Ç–Ω—ñ—Å—Ç—å (—Ç—ñ–ª—å–∫–∏ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–µ –≤–±—É–¥–æ–≤–∞–Ω–µ)

---

## –ö—Ä–∏—Ç–µ—Ä—ñ—ó –≤–∏–±–æ—Ä—É –ø—ñ–¥—Ö–æ–¥—É

### üìã **–¢–∞–±–ª–∏—Ü—è —Ä—ñ—à–µ–Ω—å:**

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | Embedding | Referencing | –ì—ñ–±—Ä–∏–¥ |
|----------|-----------|-------------|--------|
| **–ß–∞—Å—Ç–æ—Ç–∞ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** | –ó–∞–≤–∂–¥–∏ | –†—ñ–¥–∫–æ | –ß–∞—Å—Ç–æ |
| **–†–æ–∑–º—ñ—Ä –¥–∞–Ω–∏—Ö** | <16MB | –ë–µ–∑ –æ–±–º–µ–∂–µ–Ω—å | <16MB |
| **–ß–∞—Å—Ç–æ—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω—å** | –†—ñ–¥–∫–æ | –ß–∞—Å—Ç–æ | –ó–º—ñ—à–∞–Ω–∞ |
| **–ù–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö** | –ù—ñ | –¢–∞–∫ | –ß–∞—Å—Ç–∫–æ–≤–æ |
| **–ê—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å** | –¢–∞–∫ | –ù—ñ | –ß–∞—Å—Ç–∫–æ–≤–æ |
| **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —á–∏—Ç–∞–Ω–Ω—è** | ‚≠ê‚≠ê‚≠ê | ‚≠ê | ‚≠ê‚≠ê |
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω—å** | ‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê |

---

## **3. –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è —è–∫ –ø–∞—Ä–∞–¥–∏–≥–º–∞**

## –§—ñ–ª–æ—Å–æ—Ñ—ñ—è –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó

### üíæ **–î–∏—Å–∫–∏ –¥–µ—à–µ–≤—ñ, —á–∞—Å –¥–æ—Ä–æ–≥–∏–π:**

```mermaid
graph LR
    A[–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è<br/>SQL] --> B[–ú—ñ–Ω—ñ–º—É–º<br/>–¥—É–±–ª—é–≤–∞–Ω–Ω—è]
    B --> C[–ë–∞–≥–∞—Ç–æ JOIN]
    C --> D[–ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ]

    E[–î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è<br/>NoSQL] --> F[–ö–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–µ<br/>–¥—É–±–ª—é–≤–∞–Ω–Ω—è]
    F --> G[–ë–µ–∑ JOIN]
    G --> H[–®–≤–∏–¥—à–µ]
```

**–ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è:**
- –î—É–±–ª—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –û–ö, —è–∫—â–æ —Ü–µ –ø–æ–∫—Ä–∞—â—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- –î–∏—Å–∫ –¥–µ—à–µ–≤—à–∏–π –∑–∞ CPU —Ç–∞ –º–µ—Ä–µ–∂—É
- –û–ø—Ç–∏–º—ñ–∑—É—î–º–æ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è

---

## –†—ñ–≤–Ω—ñ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó

### üìä **–í—ñ–¥ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—ó –¥–æ –∞–≥—Ä–µ—Å–∏–≤–Ω–æ—ó:**

```javascript
// –†—ñ–≤–µ–Ω—å 0: –ü–æ–≤–Ω–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è (—è–∫ —É SQL)
// –ö–æ–ª–µ–∫—Ü—ñ—è posts
{ "post_id": "P001", "author_id": "U001" }

// –ö–æ–ª–µ–∫—Ü—ñ—è users
{ "user_id": "U001", "name": "–Ü–≤–∞–Ω" }

// –†—ñ–≤–µ–Ω—å 1: –ë–∞–∑–æ–≤–∞ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è
{
    "post_id": "P001",
    "author_id": "U001",
    "author_name": "–Ü–≤–∞–Ω"  // –î—É–±–ª—é–≤–∞–Ω–Ω—è
}

// –†—ñ–≤–µ–Ω—å 2: –ß–∞—Å—Ç–∫–æ–≤–∞ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è
{
    "post_id": "P001",
    "author": {
        "user_id": "U001",
        "name": "–Ü–≤–∞–Ω",
        "avatar": "..."
    }
}

// –†—ñ–≤–µ–Ω—å 3: –ê–≥—Ä–µ—Å–∏–≤–Ω–∞ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è
{
    "post_id": "P001",
    "author": { /* –ø–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è */ },
    "recent_comments": [ /* –æ—Å—Ç–∞–Ω–Ω—ñ 10 */ ],
    "related_posts": [ /* —Å—Ö–æ–∂—ñ –ø–æ—Å—Ç–∏ */ ]
}
```

---

## –°—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ

### üîÑ **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∑–≥–æ–¥–∂–µ–Ω–æ—Å—Ç—ñ:**

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—è 1: Eventual Consistency**

```javascript
// –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
async function updateUserProfile(userId, updates) {
    // 1. –û–Ω–æ–≤–ª—é—î–º–æ –≥–æ–ª–æ–≤–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç
    await db.users.updateOne(
        { user_id: userId },
        { $set: updates }
    )

    // 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ–Ω–æ–≤–ª—é—î–º–æ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫–æ–ø—ñ—ó
    // (–º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è —É —Ñ–æ–Ω—ñ)
    setTimeout(async () => {
        await db.posts.updateMany(
            { "author.user_id": userId },
            {
                $set: {
                    "author.name": updates.name,
                    "author.avatar": updates.avatar
                }
            }
        )
    }, 0)
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:** –®–≤–∏–¥–∫–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
**–ù–µ–¥–æ–ª—ñ–∫–∏:** –¢–∏–º—á–∞—Å–æ–≤–∞ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å

---

## –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

### üè∑Ô∏è **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ:**

```javascript
// –î–æ–¥–∞—î–º–æ –≤–µ—Ä—Å—ñ—é –¥–æ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö
{
    "post_id": "P001",
    "author": {
        "user_id": "U001",
        "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
        "avatar": "...",
        "version": 5  // –í–µ—Ä—Å—ñ—è –ø—Ä–æ—Ñ—ñ–ª—é
    }
}

// –ü—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å
async function getPost(postId) {
    const post = await db.posts.findOne({ post_id: postId })
    const author = await db.users.findOne(
        { user_id: post.author.user_id },
        { projection: { version: 1, name: 1, avatar: 1 } }
    )

    // –Ø–∫—â–æ –≤–µ—Ä—Å—ñ—ó –Ω–µ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å - –æ–Ω–æ–≤–ª—é—î–º–æ
    if (post.author.version < author.version) {
        await db.posts.updateOne(
            { post_id: postId },
            {
                $set: {
                    "author.name": author.name,
                    "author.avatar": author.avatar,
                    "author.version": author.version
                }
            }
        )
        post.author = author
    }

    return post
}
```

---

## Append-Only –ø—ñ–¥—Ö—ñ–¥

### üìù **–Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω:**

```javascript
// –ó–∞–º—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è - –¥–æ–¥–∞—î–º–æ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é
{
    "user_id": "U001",
    "profile_history": [
        {
            "version": 1,
            "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
            "avatar": "avatar1.jpg",
            "valid_from": ISODate("2024-01-01"),
            "valid_to": ISODate("2024-06-01")
        },
        {
            "version": 2,
            "name": "–Ü–≤–∞–Ω –í. –ü–µ—Ç—Ä–æ–≤",
            "avatar": "avatar2.jpg",
            "valid_from": ISODate("2024-06-01"),
            "valid_to": null  // –ü–æ—Ç–æ—á–Ω–∞ –≤–µ—Ä—Å—ñ—è
        }
    ]
}

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó
db.users.aggregate([
    { $match: { user_id: "U001" } },
    {
        $project: {
            current: {
                $arrayElemAt: [
                    {
                        $filter: {
                            input: "$profile_history",
                            cond: { $eq: ["$$this.valid_to", null] }
                        }
                    },
                    0
                ]
            }
        }
    }
])
```

---

## –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ

### üí∞ **–ß–∏ –≤–∞—Ä—Ç–æ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑—É–≤–∞—Ç–∏?**

```javascript
// –ü—Ä–∏–∫–ª–∞–¥: –°–æ—Ü—ñ–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞
// 1,000,000 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
// 10,000,000 –ø–æ—Å—Ç—ñ–≤

// –í–∞—Ä—ñ–∞–Ω—Ç 1: –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è
// users: 1M √ó 1KB = 1GB
// posts: 10M √ó 2KB = 20GB
// TOTAL: 21GB

// –ü—Ä–∏ –ø–µ—Ä–µ–≥–ª—è–¥—ñ —Å—Ç—Ä—ñ—á–∫–∏ (100 –ø–æ—Å—Ç—ñ–≤):
// - 1 –∑–∞–ø–∏—Ç –ø–æ—Å—Ç—ñ–≤
// - –î–æ 100 –∑–∞–ø–∏—Ç—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–∞–±–æ —Å–∫–ª–∞–¥–Ω–∏–π $lookup)

// –í–∞—Ä—ñ–∞–Ω—Ç 2: –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è
// users: 1M √ó 1KB = 1GB
// posts: 10M √ó 2.5KB = 25GB (–¥–æ–¥–∞—Ç–∫–æ–≤–æ 500 bytes –Ω–∞ –∞–≤—Ç–æ—Ä–∞)
// TOTAL: 26GB (+24%)

// –ü—Ä–∏ –ø–µ—Ä–µ–≥–ª—è–¥—ñ —Å—Ç—Ä—ñ—á–∫–∏:
// - 1 –∑–∞–ø–∏—Ç (–æ—Ç—Ä–∏–º—É—î –í–°–ï)

// –í–∏–≥—Ä–∞—à: –£—Å—É–Ω–µ–Ω–Ω—è 100 –∑–∞–ø–∏—Ç—ñ–≤ –∞–±–æ —Å–∫–ª–∞–¥–Ω–æ–≥–æ JOIN
// –ü—Ä–∏ 1000 –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤/—Å–µ–∫ = –µ–∫–æ–Ω–æ–º—ñ—è ~100,000 –∑–∞–ø–∏—Ç—ñ–≤/—Å–µ–∫
// –í–∞—Ä—Ç—ñ—Å—Ç—å: +5GB –¥–∏—Å–∫—É (~$1/–º—ñ—Å—è—Ü—å —É —Ö–º–∞—Ä—ñ)
```

**–í–∏—Å–Ω–æ–≤–æ–∫:** 24% –¥–∏—Å–∫—É –∑–∞ 100x –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å - –≤–∏–≥—ñ–¥–Ω–æ!

---

## **4. –ú—ñ–≥—Ä–∞—Ü—ñ—è —Ä–µ–ª—è—Ü—ñ–π–Ω–∏—Ö —Å—Ö–µ–º**

## –ê–Ω–∞–ª—ñ–∑ –≤–∏—Ö—ñ–¥–Ω–æ—ó —Å—Ö–µ–º–∏

### üîç **–†–µ–ª—è—Ü—ñ–π–Ω–∞ –º–æ–¥–µ–ª—å e-commerce:**

```sql
-- 7 —Ç–∞–±–ª–∏—Ü—å –∑ –∑–≤'—è–∑–∫–∞–º–∏
CREATE TABLE users (
    user_id INT PRIMARY KEY,
    email VARCHAR(100),
    name VARCHAR(100)
);

CREATE TABLE addresses (
    address_id INT PRIMARY KEY,
    user_id INT,
    street VARCHAR(200),
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);

CREATE TABLE products (
    product_id INT PRIMARY KEY,
    name VARCHAR(200),
    price DECIMAL(10,2)
);

CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    user_id INT,
    order_date TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);

CREATE TABLE order_items (
    item_id INT PRIMARY KEY,
    order_id INT,
    product_id INT,
    FOREIGN KEY (order_id) REFERENCES orders(order_id)
);
```

---

## –°—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó

### üîÑ **–û–¥–∏–Ω-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö ‚Üí –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è:**

```javascript
// –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á + –∞–¥—Ä–µ—Å–∏ (SQL: 2 —Ç–∞–±–ª–∏—Ü—ñ ‚Üí MongoDB: 1 –¥–æ–∫—É–º–µ–Ω—Ç)
{
    "_id": ObjectId("..."),
    "user_id": "U001",
    "email": "ivan@example.com",
    "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",

    // –í–±—É–¥–æ–≤—É—î–º–æ –∞–¥—Ä–µ—Å–∏ (–æ–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å)
    "addresses": [
        {
            "type": "shipping",
            "street": "–≤—É–ª. –•—Ä–µ—â–∞—Ç–∏–∫, 15",
            "city": "–ö–∏—ó–≤",
            "is_default": true
        },
        {
            "type": "billing",
            "street": "–≤—É–ª. –®–µ–≤—á–µ–Ω–∫–∞, 10",
            "city": "–ö–∏—ó–≤",
            "is_default": false
        }
    ]
}
```

---

## –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å

### üì¶ **–î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö:**

```javascript
// –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ –ø–æ–≤–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é (—Ñ—ñ–∫—Å—É—î—Ç—å—Å—è –Ω–∞ –º–æ–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)
{
    "_id": ObjectId("..."),
    "order_id": "ORD001",
    "order_date": ISODate("2024-10-15"),

    // –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ –¥–∞–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∞
    "customer": {
        "user_id": "U001",
        "email": "ivan@example.com",
        "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
    },

    // –í–±—É–¥–æ–≤—É—î–º–æ –ø–æ–∑–∏—Ü—ñ—ó –∑ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—î—é —Ç–æ–≤–∞—Ä—ñ–≤
    "items": [
        {
            "product_id": "P001",
            "product_name": "–ù–æ—É—Ç–±—É–∫ Dell XPS 15",  // –§—ñ–∫—Å—É—î–º–æ –Ω–∞–∑–≤—É
            "unit_price": 45000,                     // –§—ñ–∫—Å—É—î–º–æ —Ü—ñ–Ω—É
            "quantity": 1,
            "subtotal": 45000
        }
    ],

    // –í–±—É–¥–æ–≤—É—î–º–æ –∞–¥—Ä–µ—Å–∏ (—Ñ—ñ–∫—Å—É—é—Ç—å—Å—è)
    "shipping_address": {
        "street": "–≤—É–ª. –•—Ä–µ—â–∞—Ç–∏–∫, 15",
        "city": "–ö–∏—ó–≤"
    },

    "total_amount": 47500,
    "status": "shipped"
}
```

**–ß–æ–º—É –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ:**
- –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è
- –ü–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –û–¥–∏–Ω –∑–∞–ø–∏—Ç = –ø–æ–≤–Ω–∏–π –∑–≤—ñ—Ç

---

## –ü—Ä–æ—Ü–µ—Å –º—ñ–≥—Ä–∞—Ü—ñ—ó

### üöÄ **–ö—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º:**

```mermaid
graph TB
    A[1. –ï–∫—Å–ø–æ—Ä—Ç –∑ SQL] --> B[2. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è]
    B --> C[3. –í–∞–ª—ñ–¥–∞—Ü—ñ—è]
    C --> D[4. –Ü–º–ø–æ—Ä—Ç —É MongoDB]
    D --> E[5. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤]
    E --> F[6. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è]
    F --> G{–£—Å–ø—ñ—à–Ω–æ?}
    G -->|–ù—ñ| B
    G -->|–¢–∞–∫| H[7. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è]
```

---

## –ö–æ–¥ –º—ñ–≥—Ä–∞—Ü—ñ—ó

### üíª **Node.js —Å–∫—Ä–∏–ø—Ç:**

```javascript
const mysql = require('mysql2/promise')
const { MongoClient } = require('mongodb')

async function migrateUsers() {
    // –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
    const sqlConn = await mysql.createConnection({
        host: 'localhost',
        user: 'root',
        database: 'ecommerce'
    })

    const mongoClient = await MongoClient.connect('mongodb://localhost:27017')
    const db = mongoClient.db('ecommerce_nosql')

    // –ï–∫—Å–ø–æ—Ä—Ç –∑ SQL
    const [users] = await sqlConn.execute(`
        SELECT
            u.*,
            JSON_ARRAYAGG(
                JSON_OBJECT(
                    'type', a.type,
                    'street', a.street,
                    'city', a.city
                )
            ) as addresses
        FROM users u
        LEFT JOIN addresses a ON u.user_id = a.user_id
        GROUP BY u.user_id
    `)

    // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è
    const documents = users.map(user => ({
        user_id: user.user_id,
        email: user.email,
        name: user.name,
        addresses: JSON.parse(user.addresses)
    }))

    // –Ü–º–ø–æ—Ä—Ç —É MongoDB
    await db.collection('users').insertMany(documents)

    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤
    await db.collection('users').createIndex({ user_id: 1 }, { unique: true })
    await db.collection('users').createIndex({ email: 1 }, { unique: true })

    console.log(`Migrated ${documents.length} users`)
}
```

---

## **5. –ü–∞—Ç—Ç–µ—Ä–Ω–∏ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è**

## –ü–∞—Ç—Ç–µ—Ä–Ω Subset

### üéØ **–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ–ª–∏–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –∑ –±–∞–≥–∞—Ç—å–º–∞ –¥–∞–Ω–∏–º–∏

```javascript
// –ü–û–ì–ê–ù–û: –í—Å—ñ 5000 –≤—ñ–¥–≥—É–∫—ñ–≤ —É –¥–æ–∫—É–º–µ–Ω—Ç—ñ —Ç–æ–≤–∞—Ä—É
{
    "product_id": "P001",
    "name": "–ù–æ—É—Ç–±—É–∫ Dell XPS 15",
    "reviews": [
        // 5000 –≤—ñ–¥–≥—É–∫—ñ–≤ √ó 2KB = 10MB
        { "rating": 5, "comment": "..." },
        // ... 4999 —ñ–Ω—à–∏—Ö
    ]
}

// –î–û–ë–†–ï: Subset Pattern
// –û—Å–Ω–æ–≤–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –∑ –ø—ñ–¥–º–Ω–æ–∂–∏–Ω–æ—é
{
    "product_id": "P001",
    "name": "–ù–æ—É—Ç–±—É–∫ Dell XPS 15",

    // –¢—ñ–ª—å–∫–∏ –æ—Å—Ç–∞–Ω–Ω—ñ 10 –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ–∫–∞–∑—É
    "recent_reviews": [
        { "rating": 5, "comment": "–í—ñ–¥–º—ñ–Ω–Ω–æ!" },
        // ... —Ç—ñ–ª—å–∫–∏ 10
    ],

    // –ê–≥—Ä–µ–≥–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ
    "reviews_summary": {
        "total": 5000,
        "avg_rating": 4.6
    }
}

// –û–∫—Ä–µ–º–∞ –∫–æ–ª–µ–∫—Ü—ñ—è –¥–ª—è –≤—Å—ñ—Ö –≤—ñ–¥–≥—É–∫—ñ–≤
// (–∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø—Ä–∏ –∫–ª—ñ–∫—É "–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ")
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω Computed

### üìä **–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ—Ä–æ–≥—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–∞–ø–∏—Ç—ñ

```javascript
// –ü–û–ì–ê–ù–û: –†–∞—Ö—É—î–º–æ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–∞–ø–∏—Ç—ñ
db.posts.find({ author_id: "U001" }).count()
db.comments.find({ author_id: "U001" }).count()
// ... —ñ —Ç–∞–∫ –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É

// –î–û–ë–†–ï: Computed Pattern
{
    "user_id": "U001",
    "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",

    // –ü–æ–ø–µ—Ä–µ–¥–Ω—å–æ –æ–±—á–∏—Å–ª–µ–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏
    "computed_stats": {
        "total_posts": 127,
        "total_comments": 543,
        "followers_count": 523,
        "engagement_rate": 3.45,
        "last_computed": ISODate("2024-10-17T14:30:00Z")
    }
}

// –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
// - –ü—Ä–∏ –∫–æ–∂–Ω—ñ–π –¥—ñ—ó (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
// - –ß–µ—Ä–µ–∑ job queue (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
// - –ó–∞ —Ä–æ–∑–∫–ª–∞–¥–æ–º (cron)
// - –ù–∞ –≤–∏–º–æ–≥—É –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω Bucket

### üìà **–ü—Ä–æ–±–ª–µ–º–∞:** –ú—ñ–ª—å–π–æ–Ω–∏ –æ–∫—Ä–µ–º–∏—Ö –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å

```javascript
// –ü–û–ì–ê–ù–û: 1 –¥–æ–∫—É–º–µ–Ω—Ç = 1 –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è
// 1 –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è/—Å–µ–∫—É–Ω–¥—É = 86,400 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤/–¥–µ–Ω—å/—Å–µ–Ω—Å–æ—Ä
// 1000 —Å–µ–Ω—Å–æ—Ä—ñ–≤ = 86,400,000 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤/–¥–µ–Ω—å
{
    "sensor_id": "TEMP001",
    "timestamp": ISODate("2024-10-17T14:30:00Z"),
    "temperature": 22.5
}

// –î–û–ë–†–ï: Bucket Pattern
// 1 –¥–æ–∫—É–º–µ–Ω—Ç = 1 –≥–æ–¥–∏–Ω–∞ –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å
{
    "sensor_id": "TEMP001",
    "bucket_start": ISODate("2024-10-17T14:00:00Z"),

    // 3600 –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å –∑–∞ –≥–æ–¥–∏–Ω—É
    "measurements": [
        { "offset": 0, "temp": 22.5 },
        { "offset": 1, "temp": 22.6 },
        // ... 3598 —ñ–Ω—à–∏—Ö
    ],

    // –ü–µ—Ä–µ–¥–æ–±—á–∏—Å–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    "summary": {
        "count": 3600,
        "avg": 22.4,
        "min": 21.8,
        "max": 23.2
    }
}

// 1000 —Å–µ–Ω—Å–æ—Ä—ñ–≤ = —Ç—ñ–ª—å–∫–∏ 24,000 –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤/–¥–µ–Ω—å (—É 3600 —Ä–∞–∑—ñ–≤ –º–µ–Ω—à–µ!)
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω Schema Versioning

### üè∑Ô∏è **–ü—Ä–æ–±–ª–µ–º–∞:** –ï–≤–æ–ª—é—Ü—ñ—è —Å—Ö–µ–º–∏ –±–µ–∑ –º—ñ–≥—Ä–∞—Ü—ñ—ó

```javascript
// –í–µ—Ä—Å—ñ—è 1: –ü–æ—á–∞—Ç–∫–æ–≤–∞ —Å—Ö–µ–º–∞
{
    "user_id": "U001",
    "schema_version": 1,
    "username": "ivanpetrov",
    "email": "ivan@example.com"
}

// –í–µ—Ä—Å—ñ—è 2: –î–æ–¥–∞–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É name
{
    "user_id": "U002",
    "schema_version": 2,
    "username": "mariakoval",
    "name": {
        "first": "–ú–∞—Ä—ñ—è",
        "last": "–ö–æ–≤–∞–ª–µ–Ω–∫–æ"
    }
}

// –í–µ—Ä—Å—ñ—è 3: –î–æ–¥–∞–ª–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ
{
    "user_id": "U003",
    "schema_version": 3,
    "name": { "first": "–û–ª–µ–∫—Å–∞–Ω–¥—Ä", "last": "–°–∏–¥–æ—Ä–æ–≤" },
    "privacy": {
        "profile_visible": true,
        "show_email": false
    }
}

// –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –≤–µ—Ä—Å—ñ–π
function normalizeUser(user) {
    if (user.schema_version < 3) {
        // –ú—ñ–≥—Ä—É—î–º–æ –¥–æ –≤–µ—Ä—Å—ñ—ó 3
        return { ...user, privacy: { /* defaults */ } }
    }
    return user
}
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω Polymorphic

### üé≠ **–ü—Ä–æ–±–ª–µ–º–∞:** –†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –≤ –æ–¥–Ω—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó

```javascript
// –ö–æ–ª–µ–∫—Ü—ñ—è notifications - —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å

// –¢–∏–ø 1: –ù–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä
{
    "type": "new_comment",
    "user_id": "U001",
    "read": false,
    "post_id": "P123",
    "commenter": "–ú–∞—Ä—ñ—è –ö.",
    "comment_preview": "–í—ñ–¥–º—ñ–Ω–Ω–∞ —Å—Ç–∞—Ç—Ç—è!"
}

// –¢–∏–ø 2: –ù–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å–Ω–∏–∫
{
    "type": "new_follower",
    "user_id": "U001",
    "read": false,
    "follower": {
        "user_id": "U002",
        "username": "alexsid"
    }
}

// –¢–∏–ø 3: –°–∏—Å—Ç–µ–º–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
{
    "type": "system",
    "user_id": "U001",
    "read": false,
    "title": "–ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó",
    "message": "–ú–∏ –¥–æ–¥–∞–ª–∏...",
    "priority": "medium"
}

// –û–±—Ä–æ–±–∫–∞ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ
switch(notification.type) {
    case 'new_comment': // render comment notification
    case 'new_follower': // render follower notification
    case 'system': // render system notification
}
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω Extended Reference

### üîó **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–∏–ª–∞–Ω–Ω—è –±–µ–∑ lookup'—ñ–≤

```javascript
// –ü–û–ì–ê–ù–û: –¢—ñ–ª—å–∫–∏ ID
{
    "order_id": "ORD001",
    "customer_id": "U001"  // –ü–æ—Ç—Ä—ñ–±–µ–Ω lookup
}

// –î–û–ë–†–ï: Extended Reference
{
    "order_id": "ORD001",

    // –í–∫–ª—é—á–∞—î–º–æ –∫–ª—é—á–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
    "customer": {
        "user_id": "U001",
        "username": "ivanpetrov",
        "email": "ivan@example.com",
        "tier": "premium",        // –î–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
        "verified": true
    }
}

// –ü–µ—Ä–µ–≤–∞–≥–∏:
// 1. –®–≤–∏–¥–∫–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–µ–∑ lookup
// 2. –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∑–∞ tier –∫–ª—ñ—î–Ω—Ç–∞
// 3. –ö—Ä–∏—Ç–∏—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑–∞–≤–∂–¥–∏ –¥–æ—Å—Ç—É–ø–Ω–∞

// –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–µ–º—ñ—É–º –∫–ª—ñ—î–Ω—Ç—ñ–≤
db.orders.find({ "customer.tier": "premium" })
```

---

## –ú–∞—Ç—Ä–∏—Ü—è –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤

| –ü–∞—Ç—Ç–µ—Ä–Ω | –ü—Ä–æ–±–ª–µ–º–∞ | –†—ñ—à–µ–Ω–Ω—è | –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ |
|---------|----------|---------|---------------------|
| **Subset** | –í–µ–ª–∏–∫—ñ –º–∞—Å–∏–≤–∏ | –ü—ñ–¥–º–Ω–æ–∂–∏–Ω–∞ + –ø–æ–≤–Ω–∞ –∫–æ–ø—ñ—è | –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ, –ª–æ–≥–∏, —ñ—Å—Ç–æ—Ä—ñ—è |
| **Computed** | –î–æ—Ä–æ–≥—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è | –ü–µ—Ä–µ–¥–æ–±—á–∏—Å–ª–µ–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏ |
| **Bucket** | –ë–∞–≥–∞—Ç–æ –º–∞–ª–∏—Ö docs | –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è –≤ bucket | IoT, –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏ |
| **Schema Versioning** | –ó–º—ñ–Ω–∞ —Å—Ö–µ–º–∏ | –í–µ—Ä—Å—ñ—ó –≤ –¥–æ–∫—É–º–µ–Ω—Ç—ñ | –ï–≤–æ–ª—é—Ü—ñ—è –º–æ–¥–µ–ª—ñ |
| **Polymorphic** | –†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ | –ü–æ–ª–µ type | –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è, –ø–æ–¥—ñ—ó |
| **Extended Reference** | –ë–∞–≥–∞—Ç–æ lookup'—ñ–≤ | ID + –∫–ª—é—á–æ–≤—ñ –ø–æ–ª—è | –ß–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∏ |

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### üí° **Best Practices:**

**1. –ü–æ—á–Ω—ñ—Ç—å –∑ –∞–Ω–∞–ª—ñ–∑—É:**
- –î–æ–∫—É–º–µ–Ω—Ç—É–π—Ç–µ –¢–û–ü-10 –∑–∞–ø–∏—Ç—ñ–≤
- –í–∏–º—ñ—Ä—é–π—Ç–µ —á–∞—Å—Ç–æ—Ç—É –æ–ø–µ—Ä–∞—Ü—ñ–π
- –í–∏–∑–Ω–∞—á—Ç–µ –∫—Ä–∏—Ç–∏—á–Ω—ñ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

**2. –Ü—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥:**
- –ü–æ—á–Ω—ñ—Ç—å –∑ –ø—Ä–æ—Å—Ç–æ—ó —Å—Ö–µ–º–∏
- –¢–µ—Å—Ç—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –≤—É–∑—å–∫—ñ –º—ñ—Å—Ü—è

**3. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:**
- –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ —Ä–æ–∑–º—ñ—Ä –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- –ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ –ø–æ–≤—ñ–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∏
- –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤

**4. –ë–∞–ª–∞–Ω—Å:**
- –ù–µ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑—É–π—Ç–µ –≤—Å–µ –ø—ñ–¥—Ä—è–¥
- –ù–µ –æ–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –ø–µ—Ä–µ–¥—á–∞—Å–Ω–æ
- –í–∏–º—ñ—Ä—é–π—Ç–µ –ø–µ—Ä–µ–¥ –∑–º—ñ–Ω–æ—é

---

## –ê–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∏

### ‚ùå **–ß–æ–≥–æ —É–Ω–∏–∫–∞—Ç–∏:**

**1. –ù–µ–æ–±–º–µ–∂–µ–Ω—ñ –º–∞—Å–∏–≤–∏:**
```javascript
// –ü–û–ì–ê–ù–û
{
    "post_id": "P001",
    "all_likes": [
        // –ú–æ–∂–µ –±—É—Ç–∏ 1,000,000 –ª–∞–π–∫—ñ–≤!
        "U001", "U002", /* ... */
    ]
}

// –î–û–ë–†–ï
{
    "post_id": "P001",
    "likes_count": 1000000,  // –õ—ñ—á–∏–ª—å–Ω–∏–∫
    "liked_by_current_user": true
}
```

---

## –ê–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∏ (–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è)

**2. –ú–∞—Å–∏–≤–Ω—ñ –≤–∫–ª–∞–¥–µ–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:**
```javascript
// –ü–û–ì–ê–ù–û: –ì–ª–∏–±–æ–∫–∞ –≤–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å
{
    "university": {
        "faculties": [
            {
                "departments": [
                    {
                        "courses": [
                            {
                                "students": [ /* ... */ ]
                            }
                        ]
                    }
                ]
            }
        ]
    }
}

// –î–û–ë–†–ï: –û–∫—Ä–µ–º—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏
```

**3. –ù–∞–¥–º—ñ—Ä–Ω–∞ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è:**
```javascript
// –ü–û–ì–ê–ù–û: –î—É–±–ª—é—î–º–æ –í–°–ï
{
    "order_id": "ORD001",
    "customer": { /* 50 –ø–æ–ª—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */ }
}

// –î–û–ë–†–ï: –¢—ñ–ª—å–∫–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–µ
{
    "order_id": "ORD001",
    "customer": { "id": "U001", "name": "–Ü–≤–∞–Ω", "email": "..." }
}
```

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫

### ‚úÖ **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:**

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- [ ] –†–æ–∑–º—ñ—Ä –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ < 16MB
- [ ] –ú–∞—Å–∏–≤–∏ –æ–±–º–µ–∂–µ–Ω—ñ (< 200-300 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤)
- [ ] –í–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å < 4 —Ä—ñ–≤–Ω—ñ–≤
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ö–µ–º–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞

**–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:**
- [ ] –Ü–Ω–¥–µ–∫—Å–∏ –¥–ª—è —á–∞—Å—Ç–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- [ ] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –æ–±—Å—è–≥–∞—Ö
- [ ] –®–≤–∏–¥–∫—ñ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π < 100ms
- [ ] –†–æ–∑–º—ñ—Ä —Ä–æ–±–æ—á–æ–≥–æ –Ω–∞–±–æ—Ä—É (working set) –≤ RAM

**–ü—ñ–¥—Ç—Ä–∏–º–∫–∞:**
- [ ] –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ –≤–∏–∑–Ω–∞—á–µ–Ω–∞
- [ ] –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è —Å—Ö–µ–º–∏ –ø—Ä–æ–¥—É–º–∞–Ω–µ
- [ ] –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- [ ] –ü—Ä–æ—Ü–µ—Å –º—ñ–≥—Ä–∞—Ü—ñ—ó –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π

---

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤

| –ê—Å–ø–µ–∫—Ç | SQL | MongoDB NoSQL |
|--------|-----|---------------|
| **–ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è** | –°—Ö–µ–º–∞ ‚Üí –ó–∞–ø–∏—Ç–∏ | –ó–∞–ø–∏—Ç–∏ ‚Üí –°—Ö–µ–º–∞ |
| **–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è** | –û–±–æ–≤'—è–∑–∫–æ–≤–∞ | –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ |
| **–î—É–±–ª—é–≤–∞–Ω–Ω—è** | –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ | –ö–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–µ |
| **JOIN** | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π | $lookup –∞–±–æ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è |
| **–ì–Ω—É—á–∫—ñ—Å—Ç—å** | –ù–∏–∑—å–∫–∞ | –í–∏—Å–æ–∫–∞ |
| **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** | –°–∏–ª—å–Ω–∞ | –ù–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω–∞ |
| **–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è** | –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å –∑–º—ñ–Ω** | –ü–æ–≤—ñ–ª—å–Ω–∞ | –®–≤–∏–¥–∫–∞ |

---

## –í–∏—Å–Ω–æ–≤–∫–∏

### üéØ **–ö–ª—é—á–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ NoSQL –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è:**

**–û—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è –Ω–∞ –∑–∞–ø–∏—Ç–∏:**
- –°—Ö–µ–º–∞ —Å–ª—ñ–¥—É—î –∑–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º
- –ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω–∏ –ø–µ—Ä–µ–¥ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è–º
- –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –¥–ª—è —á–∞—Å—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

**–í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è vs –ü–æ—Å–∏–ª–∞–Ω–Ω—è:**
- –í–±—É–¥–æ–≤—É–π—Ç–µ –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- –ü–æ—Å–∏–ª–∞–π—Ç–µ—Å—å –¥–ª—è –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ - –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π

**–î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è:**
- –î—É–±–ª—é–≤–∞–Ω–Ω—è –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ü–ª–∞–Ω—É–π—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ
- –†–æ–∑—Ä–∞—Ö–æ–≤—É–π—Ç–µ –≤–∞—Ä—Ç—ñ—Å—Ç—å vs –≤–∏–≥—Ä–∞—à

**–ü–∞—Ç—Ç–µ—Ä–Ω–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è
- –ê–¥–∞–ø—Ç—É–π—Ç–µ –ø—ñ–¥ —Å–≤—ñ–π –≤–∏–ø–∞–¥–æ–∫
- –£–Ω–∏–∫–∞–π—Ç–µ –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤
